#pragma once

#include <vector>

#include "geometry.h"
#include "level_id.h"
#include "moving_platform.h"
#include "tile.h"

enum class Sprite : int
{
  SPRITE_NONE = -1,
  SPRITE_CLEAR_BLOCK = 6,
  SPRITE_ENTRY_1 = 12,
  SPRITE_ENTRY_2 = 13,
  SPRITE_ENTRY_3 = 14,
  SPRITE_ROCKS_1 = 20,
  SPRITE_ROCKS_2 = 21,
  SPRITE_ROCKS_3 = 24,
  SPRITE_ROCKS_4 = 25,
  SPRITE_ROCKMAN_L_1 = 104,
  SPRITE_ROCKMAN_L_2 = 105,
  SPRITE_ROCKMAN_L_3 = 106,
  SPRITE_ROCKMAN_L_4 = 107,
  SPRITE_ROCKMAN_L_5 = 108,
  SPRITE_ROCKMAN_WALK_L_1 = 109,
  SPRITE_ROCKMAN_WALK_L_2 = 110,
  SPRITE_ROCKMAN_WALK_L_3 = 111,
  SPRITE_ROCKMAN_WALK_L_4 = 112,
  SPRITE_ROCKMAN_WALK_L_5 = 113,
  SPRITE_ROCKMAN_WALK_L_6 = 114,
  SPRITE_ROCKMAN_WALK_L_7 = 115,
  SPRITE_HORIZON_LAMP = 240,
  SPRITE_HORIZON_1 = 247,
  SPRITE_HORIZON_2 = 248,
  SPRITE_HORIZON_3 = 249,
  SPRITE_HORIZON_4 = 250,
  SPRITE_MINE_SIGN_1 = 251,
  SPRITE_MINE_SIGN_2 = 252,
  SPRITE_STANDING_RIGHT = 260,
  SPRITE_PISTOL = 308,
  SPRITE_POWER = 309,
  SPRITE_STARS_1 = 356,
  SPRITE_STARS_2 = 357,
  SPRITE_STARS_3 = 358,
  SPRITE_STARS_4 = 359,
  SPRITE_STARS_5 = 360,
  SPRITE_STARS_6 = 361,
  SPRITE_LIGHT_SWITCH_OFF = 429,
  SPRITE_LIGHT_SWITCH_ON = 430,
  SPRITE_LEVER_R_OFF = 432,
  SPRITE_SIGN_DOWN = 458,
  SPRITE_SIGN_UP = 459,
  SPRITE_WINNERS_1 = 468,
  SPRITE_WINNERS_2 = 469,
  SPRITE_WINNERS_3 = 470,
  SPRITE_REVERSE_GRAVITY_1 = 472,
  SPRITE_REVERSE_GRAVITY_2 = 473,
  SPRITE_LOW_GRAVITY_1 = 474,
  SPRITE_LOW_GRAVITY_2 = 475,
  SPRITE_DANGER_1 = 476,
  SPRITE_DANGER_2 = 477,
  SPRITE_BARREL = 575,
  SPRITE_BARREL_CRACKED = 583,
  SPRITE_EXIT_TOP_LEFT_1 = 584,
  SPRITE_EXIT_TOP_LEFT_2 = 585,
  SPRITE_EXIT_TOP_LEFT_3 = 586,
  SPRITE_EXIT_TOP_LEFT_4 = 587,
  SPRITE_EXIT_BOTTOM_LEFT_1 = 588,
  SPRITE_EXIT_BOTTOM_LEFT_2 = 589,
  SPRITE_EXIT_BOTTOM_LEFT_3 = 590,
  SPRITE_EXIT_BOTTOM_LEFT_4 = 591,
  SPRITE_EXIT_TOP_RIGHT_1 = 592,
  SPRITE_EXIT_BOTTOM_RIGHT_1 = 596,
  SPRITE_EXIT_BOTTOM_RIGHT_2 = 597,
  SPRITE_EXIT_BOTTOM_RIGHT_3 = 598,
  SPRITE_EXIT_BOTTOM_RIGHT_4 = 599,
  SPRITE_SWITCH_OFF = 602,
  SPRITE_SWITCH_ON = 603,
  SPRITE_WOOD_V = 608,
  SPRITE_GRAVITY = 609,
  SPRITE_PLATFORM_H_1 = 612,
  SPRITE_PLATFORM_H_2 = 613,
  SPRITE_PLATFORM_H_3 = 614,
  SPRITE_PLATFORM_H_4 = 615,
  SPRITE_PLATFORM_V_1 = 616,
  SPRITE_PLATFORM_V_2 = 617,
  SPRITE_PLATFORM_V_3 = 618,
  SPRITE_PLATFORM_V_4 = 619,
  SPRITE_WOOD_H = 620,
  SPRITE_CRYSTAL_1_R = 624,
  SPRITE_CRYSTAL_1_Y = 625,
  SPRITE_CRYSTAL_1_G = 626,
  SPRITE_CRYSTAL_1_B = 627,
  SPRITE_EARTH = 632,
  SPRITE_MOON = 634,
  SPRITE_CRYSTAL_2_R = 636,
  SPRITE_CRYSTAL_2_Y = 637,
  SPRITE_CRYSTAL_2_G = 638,
  SPRITE_CRYSTAL_2_B = 639,
  SPRITE_CRYSTAL_3_R = 656,
  SPRITE_CRYSTAL_3_Y = 657,
  SPRITE_CRYSTAL_3_G = 658,
  SPRITE_CRYSTAL_3_B = 659,
  SPRITE_CRYSTAL_HIDDEN = 660,
  SPRITE_TORCH_1 = 663,
  SPRITE_TORCH_2 = 664,
  SPRITE_TORCH_3 = 665,
  SPRITE_TORCH_4 = 666,
  SPRITE_MUSHROOM_RED = 668,
  SPRITE_MUSHROOM_GREEN = 669,
  SPRITE_VOLCANO_TOP_1 = 737,
  SPRITE_VOLCANO_TOP_2 = 738,
  SPRITE_VOLCANO_BOTTOM_1 = 740,
  SPRITE_VOLCANO_BOTTOM_2 = 741,
  SPRITE_VOLCANO_BOTTOM_3 = 742,
  SPRITE_VOLCANO_BOTTOM_4 = 743,
  SPRITE_VOLCANO_EJECTA_L_1 = 748,
  SPRITE_VOLCANO_EJECTA_L_2 = 749,
  SPRITE_VOLCANO_EJECTA_L_3 = 750,
  SPRITE_VOLCANO_EJECTA_L_4 = 751,
  SPRITE_VOLCANO_EJECTA_R_1 = 752,
  SPRITE_VOLCANO_EJECTA_R_2 = 753,
  SPRITE_VOLCANO_EJECTA_R_3 = 754,
  SPRITE_VOLCANO_EJECTA_R_4 = 755,
  SPRITE_WOOD_STRUT_1 = 886,
  SPRITE_WOOD_STRUT_2 = 887,
  SPRITE_WOOD_PILLAR_1 = 890,
  SPRITE_WOOD_PILLAR_2 = 891,
  SPRITE_RED_PANEL_1 = 970,
  SPRITE_RED_PANEL_2 = 971,
  SPRITE_RED_PANEL_3 = 974,
  SPRITE_RED_PANEL_4 = 975,
  SPRITE_BUMP_PLATFORM_BLUE_L = 991,
  SPRITE_BUMP_PLATFORM_BLUE_MID = 992,
  SPRITE_BUMP_PLATFORM_BLUE_R = 993,
  SPRITE_BUMP_PLATFORM_RED_L = 994,
  SPRITE_BUMP_PLATFORM_RED_MID = 995,
  SPRITE_BUMP_PLATFORM_RED_R = 996,
  SPRITE_BUMP_PLATFORM_GREEN_L = 997,
  SPRITE_BUMP_PLATFORM_GREEN_MID = 998,
  SPRITE_BUMP_PLATFORM_GREEN_R = 999,
  SPRITE_CONCRETE = 1092,
  SPRITE_CONCRETE_H = 1093,
  SPRITE_CONCRETE_V = 1094,
  SPRITE_CONCRETE_X = 1095,
  SPRITE_BLOCK_BROWN_NW = 1124,
  SPRITE_BLOCK_BROWN_N = 1125,
  SPRITE_BLOCK_BROWN_NE = 1126,
  SPRITE_BLOCK_BROWN_SW = 1128,
  SPRITE_BLOCK_BROWN_S = 1129,
  SPRITE_BLOCK_BROWN_SE = 1130,
  SPRITE_BLOCK_BROWN_W = 1132,
  SPRITE_BLOCK_BROWN_MID = 1133,
  SPRITE_BLOCK_BROWN_E = 1134,
};

struct Level
{
  Level(LevelId level_id,
        int width,
        int height,
        const Sprite bg_sprite,
        geometry::Size bg_tile_size,
        const std::vector<int>& tile_ids,
        std::vector<int>&& item_ids);

  LevelId level_id;

  int width;
  int height;

  geometry::Position player_spawn;

  const Tile& get_tile(const int x, const int y) const;
  const int get_bg(const int x, const int y) const;

  std::vector<int> bgs;
  std::vector<Tile> tiles;
  std::vector<int> item_ids;

  std::vector<MovingPlatform> moving_platforms;
};
